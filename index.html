<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Navidad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: rgb(50,49,51);
            background: radial-gradient(circle, rgba(50,49,51,1) 0%, rgba(19,18,19,1) 87%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            font-family: 'Georgia', serif;
        }

        /* Nieve ca√≠da */
        .snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .snow {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-10px) translateX(0);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(20px);
                opacity: 0;
            }
        }

        /* Pantalla de bienvenida */
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a472a 0%, #2d5016 50%, #1a472a 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
            overflow: hidden;
        }

        #welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        #welcome-screen::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -10%;
            width: 120%;
            height: 150%;
            background-image: 
                radial-gradient(circle, white 1px, transparent 1px),
                radial-gradient(circle, white 1px, transparent 1px),
                radial-gradient(circle, white 2px, transparent 2px);
            background-size: 50px 50px, 100px 100px, 150px 150px;
            background-position: 0 0, 40px 60px, 80px 30px;
            animation: snowfall 20s linear infinite;
            opacity: 0.6;
        }

        @keyframes snowfall {
            0% { transform: translateY(0); }
            100% { transform: translateY(100%); }
        }

        .welcome-content {
            text-align: center;
            color: white;
            padding: 60px 40px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 30px;
            border: 3px solid #ffb700;
            box-shadow: 0 0 40px rgba(255, 183, 0, 0.4),
                        inset 0 0 30px rgba(255, 183, 0, 0.1);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            max-width: 90%;
        }

        .welcome-content::before {
            content: '‚ùÑÔ∏è';
            position: absolute;
            top: -30px;
            left: 20px;
            font-size: 3em;
            animation: float 3s ease-in-out infinite;
        }

        .welcome-content::after {
            content: '‚ùÑÔ∏è';
            position: absolute;
            top: -30px;
            right: 20px;
            font-size: 3em;
            animation: float 3s ease-in-out infinite 1.5s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .welcome-content h1 {
            font-family: 'Georgia', serif;
            font-size: 3.5em;
            color: #ffb700;
            margin-bottom: 20px;
            text-shadow: 
                0 0 10px rgba(255, 183, 0, 0.8),
                0 0 20px rgba(255, 183, 0, 0.6),
                0 0 30px rgba(255, 183, 0, 0.4),
                2px 2px 4px rgba(0, 0, 0, 0.8);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 
                0 0 10px rgba(255, 183, 0, 0.8),
                0 0 20px rgba(255, 183, 0, 0.6),
                0 0 30px rgba(255, 183, 0, 0.4),
                2px 2px 4px rgba(0, 0, 0, 0.8); }
            to { text-shadow: 
                0 0 20px rgba(255, 183, 0, 1),
                0 0 30px rgba(255, 183, 0, 0.8),
                0 0 40px rgba(255, 183, 0, 0.6),
                2px 2px 4px rgba(0, 0, 0, 0.8); }
        }

        .welcome-subtitle {
            font-family: 'Georgia', serif;
            font-size: 1.3em;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .welcome-content input {
            padding: 18px 35px;
            font-size: 1.3em;
            border: 3px solid #43a047;
            border-radius: 15px;
            background: white;
            width: 350px;
            max-width: 90%;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }

        .welcome-content input:focus {
            outline: none;
            border-color: #ffb700;
            box-shadow: 0 0 20px rgba(255, 183, 0, 0.5);
            transform: scale(1.02);
        }

        .welcome-content button {
            padding: 18px 50px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%);
            color: white;
            border: 3px solid #2e7d32;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Georgia', serif;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .welcome-content button::before {
            content: 'üéÖ';
            position: absolute;
            left: 15px;
            font-size: 1.2em;
        }

        .welcome-content button::after {
            content: 'üéÑ';
            position: absolute;
            right: 15px;
            font-size: 1.2em;
        }

        .welcome-content button:hover {
            background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
            transform: scale(1.08);
            box-shadow: 0 8px 25px rgba(67, 160, 71, 0.5);
        }

        /* Contenedor principal */
        #main-content {
            opacity: 0;
            transition: opacity 1s ease;
            padding-bottom: 200px;
            min-height: 100vh;
            position: relative;
        }

        #main-content.visible {
            opacity: 1;
        }

        /* ============ √ÅRBOL DE NAVIDAD ORIGINAL ============ */
        body ul {
            padding: 0;
        }
        body ul li {
            list-style: none;
        }
        
        body ul:nth-child(1) {
            position: absolute;
            top: calc(20vh - 1.6rem);
            left: 50%;
            width: 1rem;
            height: 1rem;
            border-radius: 100%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }
        
        body ul:nth-child(1) li {
            position: absolute;
            width: 0;
            height: 0;
            border-width: 0 0.5rem 1rem 0.5rem;
            border-style: solid;
            border-color: transparent;
            border-bottom-color: #ffb700;
            transform-origin: 0.5rem 1rem;
        }
        
        body ul:nth-child(1) li:nth-child(1) {
            transform: rotate(0deg);
        }
        body ul:nth-child(1) li:nth-child(2) {
            transform: rotate(72deg);
        }
        body ul:nth-child(1) li:nth-child(3) {
            transform: rotate(144deg);
        }
        body ul:nth-child(1) li:nth-child(4) {
            transform: rotate(216deg);
        }
        body ul:nth-child(1) li:nth-child(5) {
            transform: rotate(288deg);
        }
        
        /* Luces del √°rbol (128 elementos) */
        body ul:nth-child(2) {
            padding: 0;
        }
        
        body ul:nth-child(2) li {
            position: absolute;
            top: 20vh;
            right: 50%;
            width: 0.0625rem;
            background: linear-gradient(rgba(46, 204, 113, 0), rgba(46, 204, 113, 0.25));
            list-style: none;
            transform-origin: 50% 0;
            animation: swing 4s ease-in-out infinite;
        }
        
        body ul:nth-child(2) li:before {
            content: "";
            position: absolute;
            left: -1px;
            bottom: 1px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        body ul:nth-child(2) li:nth-child(4n):before {
            background: #D8334A;
        }
        
        body ul:nth-child(2) li:nth-child(4n+1):before {
            background: #FFCE54;
        }
        
        body ul:nth-child(2) li:nth-child(4n+2):before {
            background: #2ECC71;
        }
        
        body ul:nth-child(2) li:nth-child(4n+3):before {
            background: #5D9CEC;
        }

        /* Alturas para las 128 luces - C√ìDIGO ORIGINAL */
        body ul:nth-child(2) li:nth-child(1) { height: 2.2727272727vh; animation-delay: -0.21875s; }
        body ul:nth-child(2) li:nth-child(2) { height: 2.7272727273vh; animation-delay: -0.4375s; }
        body ul:nth-child(2) li:nth-child(3) { height: 3.1818181818vh; animation-delay: -0.65625s; }
        body ul:nth-child(2) li:nth-child(4) { height: 3.6363636364vh; animation-delay: -0.875s; }
        body ul:nth-child(2) li:nth-child(5) { height: 4.0909090909vh; animation-delay: -1.09375s; }
        body ul:nth-child(2) li:nth-child(6) { height: 4.5454545455vh; animation-delay: -1.3125s; }
        body ul:nth-child(2) li:nth-child(7) { height: 5vh; animation-delay: -1.53125s; }
        body ul:nth-child(2) li:nth-child(8) { height: 5.4545454545vh; animation-delay: -1.75s; }
        body ul:nth-child(2) li:nth-child(9) { height: 5.9090909091vh; animation-delay: -1.96875s; }
        body ul:nth-child(2) li:nth-child(10) { height: 6.3636363636vh; animation-delay: -2.1875s; }
        body ul:nth-child(2) li:nth-child(11) { height: 6.8181818182vh; animation-delay: -2.40625s; }
        body ul:nth-child(2) li:nth-child(12) { height: 7.2727272727vh; animation-delay: -2.625s; }
        body ul:nth-child(2) li:nth-child(13) { height: 7.7272727273vh; animation-delay: -2.84375s; }
        body ul:nth-child(2) li:nth-child(14) { height: 8.1818181818vh; animation-delay: -3.0625s; }
        body ul:nth-child(2) li:nth-child(15) { height: 8.6363636364vh; animation-delay: -3.28125s; }
        body ul:nth-child(2) li:nth-child(16) { height: 9.0909090909vh; animation-delay: -3.5s; }
        body ul:nth-child(2) li:nth-child(17) { height: 9.5454545455vh; animation-delay: -3.71875s; }
        body ul:nth-child(2) li:nth-child(18) { height: 10vh; animation-delay: -3.9375s; }
        body ul:nth-child(2) li:nth-child(19) { height: 10.4545454545vh; animation-delay: -4.15625s; }
        body ul:nth-child(2) li:nth-child(20) { height: 10.9090909091vh; animation-delay: -4.375s; }
        body ul:nth-child(2) li:nth-child(21) { height: 11.3636363636vh; animation-delay: -4.59375s; }
        body ul:nth-child(2) li:nth-child(22) { height: 11.8181818182vh; animation-delay: -4.8125s; }
        body ul:nth-child(2) li:nth-child(23) { height: 12.2727272727vh; animation-delay: -5.03125s; }
        body ul:nth-child(2) li:nth-child(24) { height: 12.7272727273vh; animation-delay: -5.25s; }
        body ul:nth-child(2) li:nth-child(25) { height: 13.1818181818vh; animation-delay: -5.46875s; }
        body ul:nth-child(2) li:nth-child(26) { height: 13.6363636364vh; animation-delay: -5.6875s; }
        body ul:nth-child(2) li:nth-child(27) { height: 14.0909090909vh; animation-delay: -5.90625s; }
        body ul:nth-child(2) li:nth-child(28) { height: 14.5454545455vh; animation-delay: -6.125s; }
        body ul:nth-child(2) li:nth-child(29) { height: 15vh; animation-delay: -6.34375s; }
        body ul:nth-child(2) li:nth-child(30) { height: 15.4545454545vh; animation-delay: -6.5625s; }
        body ul:nth-child(2) li:nth-child(31) { height: 15.9090909091vh; animation-delay: -6.78125s; }
        body ul:nth-child(2) li:nth-child(32) { height: 16.3636363636vh; animation-delay: -7s; }
        body ul:nth-child(2) li:nth-child(33) { height: 16.8181818182vh; animation-delay: -7.21875s; }
        body ul:nth-child(2) li:nth-child(34) { height: 17.2727272727vh; animation-delay: -7.4375s; }
        body ul:nth-child(2) li:nth-child(35) { height: 17.7272727273vh; animation-delay: -7.65625s; }
        body ul:nth-child(2) li:nth-child(36) { height: 18.1818181818vh; animation-delay: -7.875s; }
        body ul:nth-child(2) li:nth-child(37) { height: 18.6363636364vh; animation-delay: -8.09375s; }
        body ul:nth-child(2) li:nth-child(38) { height: 19.0909090909vh; animation-delay: -8.3125s; }
        body ul:nth-child(2) li:nth-child(39) { height: 19.5454545455vh; animation-delay: -8.53125s; }
        body ul:nth-child(2) li:nth-child(40) { height: 20vh; animation-delay: -8.75s; }
        body ul:nth-child(2) li:nth-child(41) { height: 20.4545454545vh; animation-delay: -8.96875s; }
        body ul:nth-child(2) li:nth-child(42) { height: 20.9090909091vh; animation-delay: -9.1875s; }
        body ul:nth-child(2) li:nth-child(43) { height: 21.3636363636vh; animation-delay: -9.40625s; }
        body ul:nth-child(2) li:nth-child(44) { height: 21.8181818182vh; animation-delay: -9.625s; }
        body ul:nth-child(2) li:nth-child(45) { height: 22.2727272727vh; animation-delay: -9.84375s; }
        body ul:nth-child(2) li:nth-child(46) { height: 22.7272727273vh; animation-delay: -10.0625s; }
        body ul:nth-child(2) li:nth-child(47) { height: 23.1818181818vh; animation-delay: -10.28125s; }
        body ul:nth-child(2) li:nth-child(48) { height: 23.6363636364vh; animation-delay: -10.5s; }
        body ul:nth-child(2) li:nth-child(49) { height: 24.0909090909vh; animation-delay: -10.71875s; }
        body ul:nth-child(2) li:nth-child(50) { height: 24.5454545455vh; animation-delay: -10.9375s; }
        body ul:nth-child(2) li:nth-child(51) { height: 25vh; animation-delay: -11.15625s; }
        body ul:nth-child(2) li:nth-child(52) { height: 25.4545454545vh; animation-delay: -11.375s; }
        body ul:nth-child(2) li:nth-child(53) { height: 25.9090909091vh; animation-delay: -11.59375s; }
        body ul:nth-child(2) li:nth-child(54) { height: 26.3636363636vh; animation-delay: -11.8125s; }
        body ul:nth-child(2) li:nth-child(55) { height: 26.8181818182vh; animation-delay: -12.03125s; }
        body ul:nth-child(2) li:nth-child(56) { height: 27.2727272727vh; animation-delay: -12.25s; }
        body ul:nth-child(2) li:nth-child(57) { height: 27.7272727273vh; animation-delay: -12.46875s; }
        body ul:nth-child(2) li:nth-child(58) { height: 28.1818181818vh; animation-delay: -12.6875s; }
        body ul:nth-child(2) li:nth-child(59) { height: 28.6363636364vh; animation-delay: -12.90625s; }
        body ul:nth-child(2) li:nth-child(60) { height: 29.0909090909vh; animation-delay: -13.125s; }
        body ul:nth-child(2) li:nth-child(61) { height: 29.5454545455vh; animation-delay: -13.34375s; }
        body ul:nth-child(2) li:nth-child(62) { height: 30vh; animation-delay: -13.5625s; }
        body ul:nth-child(2) li:nth-child(63) { height: 30.4545454545vh; animation-delay: -13.78125s; }
        body ul:nth-child(2) li:nth-child(64) { height: 30.9090909091vh; animation-delay: -14s; }
        body ul:nth-child(2) li:nth-child(65) { height: 31.3636363636vh; animation-delay: -14.21875s; }
        body ul:nth-child(2) li:nth-child(66) { height: 31.8181818182vh; animation-delay: -14.4375s; }
        body ul:nth-child(2) li:nth-child(67) { height: 32.2727272727vh; animation-delay: -14.65625s; }
        body ul:nth-child(2) li:nth-child(68) { height: 32.7272727273vh; animation-delay: -14.875s; }
        body ul:nth-child(2) li:nth-child(69) { height: 33.1818181818vh; animation-delay: -15.09375s; }
        body ul:nth-child(2) li:nth-child(70) { height: 33.6363636364vh; animation-delay: -15.3125s; }
        body ul:nth-child(2) li:nth-child(71) { height: 34.0909090909vh; animation-delay: -15.53125s; }
        body ul:nth-child(2) li:nth-child(72) { height: 34.5454545455vh; animation-delay: -15.75s; }
        body ul:nth-child(2) li:nth-child(73) { height: 35vh; animation-delay: -15.96875s; }
        body ul:nth-child(2) li:nth-child(74) { height: 35.4545454545vh; animation-delay: -16.1875s; }
        body ul:nth-child(2) li:nth-child(75) { height: 35.9090909091vh; animation-delay: -16.40625s; }
        body ul:nth-child(2) li:nth-child(76) { height: 36.3636363636vh; animation-delay: -16.625s; }
        body ul:nth-child(2) li:nth-child(77) { height: 36.8181818182vh; animation-delay: -16.84375s; }
        body ul:nth-child(2) li:nth-child(78) { height: 37.2727272727vh; animation-delay: -17.0625s; }
        body ul:nth-child(2) li:nth-child(79) { height: 37.7272727273vh; animation-delay: -17.28125s; }
        body ul:nth-child(2) li:nth-child(80) { height: 38.1818181818vh; animation-delay: -17.5s; }
        body ul:nth-child(2) li:nth-child(81) { height: 38.6363636364vh; animation-delay: -17.71875s; }
        body ul:nth-child(2) li:nth-child(82) { height: 39.0909090909vh; animation-delay: -17.9375s; }
        body ul:nth-child(2) li:nth-child(83) { height: 39.5454545455vh; animation-delay: -18.15625s; }
        body ul:nth-child(2) li:nth-child(84) { height: 40vh; animation-delay: -18.375s; }
        body ul:nth-child(2) li:nth-child(85) { height: 40.4545454545vh; animation-delay: -18.59375s; }
        body ul:nth-child(2) li:nth-child(86) { height: 40.9090909091vh; animation-delay: -18.8125s; }
        body ul:nth-child(2) li:nth-child(87) { height: 41.3636363636vh; animation-delay: -19.03125s; }
        body ul:nth-child(2) li:nth-child(88) { height: 41.8181818182vh; animation-delay: -19.25s; }
        body ul:nth-child(2) li:nth-child(89) { height: 42.2727272727vh; animation-delay: -19.46875s; }
        body ul:nth-child(2) li:nth-child(90) { height: 42.7272727273vh; animation-delay: -19.6875s; }
        body ul:nth-child(2) li:nth-child(91) { height: 43.1818181818vh; animation-delay: -19.90625s; }
        body ul:nth-child(2) li:nth-child(92) { height: 43.6363636364vh; animation-delay: -20.125s; }
        body ul:nth-child(2) li:nth-child(93) { height: 44.0909090909vh; animation-delay: -20.34375s; }
        body ul:nth-child(2) li:nth-child(94) { height: 44.5454545455vh; animation-delay: -20.5625s; }
        body ul:nth-child(2) li:nth-child(95) { height: 45vh; animation-delay: -20.78125s; }
        body ul:nth-child(2) li:nth-child(96) { height: 45.4545454545vh; animation-delay: -21s; }
        body ul:nth-child(2) li:nth-child(97) { height: 45.9090909091vh; animation-delay: -21.21875s; }
        body ul:nth-child(2) li:nth-child(98) { height: 46.3636363636vh; animation-delay: -21.4375s; }
        body ul:nth-child(2) li:nth-child(99) { height: 46.8181818182vh; animation-delay: -21.65625s; }
        body ul:nth-child(2) li:nth-child(100) { height: 47.2727272727vh; animation-delay: -21.875s; }
        body ul:nth-child(2) li:nth-child(101) { height: 47.7272727273vh; animation-delay: -22.09375s; }
        body ul:nth-child(2) li:nth-child(102) { height: 48.1818181818vh; animation-delay: -22.3125s; }
        body ul:nth-child(2) li:nth-child(103) { height: 48.6363636364vh; animation-delay: -22.53125s; }
        body ul:nth-child(2) li:nth-child(104) { height: 49.0909090909vh; animation-delay: -22.75s; }
        body ul:nth-child(2) li:nth-child(105) { height: 49.5454545455vh; animation-delay: -22.96875s; }
        body ul:nth-child(2) li:nth-child(106) { height: 50vh; animation-delay: -23.1875s; }
        body ul:nth-child(2) li:nth-child(107) { height: 50.4545454545vh; animation-delay: -23.40625s; }
        body ul:nth-child(2) li:nth-child(108) { height: 50.9090909091vh; animation-delay: -23.625s; }
        body ul:nth-child(2) li:nth-child(109) { height: 51.3636363636vh; animation-delay: -23.84375s; }
        body ul:nth-child(2) li:nth-child(110) { height: 51.8181818182vh; animation-delay: -24.0625s; }
        body ul:nth-child(2) li:nth-child(111) { height: 52.2727272727vh; animation-delay: -24.28125s; }
        body ul:nth-child(2) li:nth-child(112) { height: 52.7272727273vh; animation-delay: -24.5s; }
        body ul:nth-child(2) li:nth-child(113) { height: 53.1818181818vh; animation-delay: -24.71875s; }
        body ul:nth-child(2) li:nth-child(114) { height: 53.6363636364vh; animation-delay: -24.9375s; }
        body ul:nth-child(2) li:nth-child(115) { height: 54.0909090909vh; animation-delay: -25.15625s; }
        body ul:nth-child(2) li:nth-child(116) { height: 54.5454545455vh; animation-delay: -25.375s; }
        body ul:nth-child(2) li:nth-child(117) { height: 55vh; animation-delay: -25.59375s; }
        body ul:nth-child(2) li:nth-child(118) { height: 55.4545454545vh; animation-delay: -25.8125s; }
        body ul:nth-child(2) li:nth-child(119) { height: 55.9090909091vh; animation-delay: -26.03125s; }
        body ul:nth-child(2) li:nth-child(120) { height: 56.3636363636vh; animation-delay: -26.25s; }
        body ul:nth-child(2) li:nth-child(121) { height: 56.8181818182vh; animation-delay: -26.46875s; }
        body ul:nth-child(2) li:nth-child(122) { height: 57.2727272727vh; animation-delay: -26.6875s; }
        body ul:nth-child(2) li:nth-child(123) { height: 57.7272727273vh; animation-delay: -26.90625s; }
        body ul:nth-child(2) li:nth-child(124) { height: 58.1818181818vh; animation-delay: -27.125s; }
        body ul:nth-child(2) li:nth-child(125) { height: 58.6363636364vh; animation-delay: -27.34375s; }
        body ul:nth-child(2) li:nth-child(126) { height: 59.0909090909vh; animation-delay: -27.5625s; }
        body ul:nth-child(2) li:nth-child(127) { height: 59.5454545455vh; animation-delay: -27.78125s; }
        body ul:nth-child(2) li:nth-child(128) { height: 60vh; animation-delay: -28s; }

        @keyframes swing {
            0%, 100% {
                transform: rotate(-30deg);
            }
            5%, 45% {
                opacity: 0.25;
            }
            50%, 100%, 0% {
                opacity: 1;
            }
            50% {
                transform: rotate(30deg);
            }
        }

        /* Texto en el √°rbol */
        .text-mc {
            font-family: 'Georgia', serif;
            font-size: 4.5vh;
            color: #ffb700;
            text-align: center;
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            z-index: 1;
            opacity: 0.9;
            text-shadow: 
                0 0 5px rgba(255, 183, 0, 0.8),
                0 0 10px rgba(255, 183, 0, 0.6),
                0 0 15px rgba(255, 183, 0, 0.4);
            line-height: 1.4;
            max-width: 90%;
            margin: 0 auto;
            pointer-events: none;
        }

        /* Contenedor de regalos */
        .gifts-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-end;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .regalo {
            width: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
        }

        .regalo:hover {
            transform: scale(1.05);
        }

        .regalo:nth-child(1) {
            order: 1;
        }
        
        .regalo:nth-child(2) {
            order: 2;
        }
        
        .regalo:nth-child(3) {
            order: 3;
        }
        
        .regalo:nth-child(4) {
            order: 4;
        }

        .caja, .tapa {
            background:
                radial-gradient(white 10%, transparent 15.1%),
                radial-gradient(white 7%, transparent 15.1%);
            background-position: 0 0, 25px 25px;
            background-size: 15px 15px;
            position: relative;
            margin: 0 auto;
        }

        .caja {
            width: 90px;
            height: 55px;
            border-radius: 0px 0px 8px 8px;
        }

        .tapa {
            width: 90px;
            height: 14px;
            border-radius: 3px 3px 0px 0px;
            box-shadow: 1px 2px 3px rgba(0,0,0,0.2);
            z-index: 1;
            padding: 0 2px;
            top: 0;
            left: 0;
            transition: 
                top ease-out 0.5s,
                left ease-out 0.5s,
                transform ease-out 0.5s;
        }

        .caja span, .tapa span {
            position: absolute;
            display: block;
            background: #43a047;
            box-shadow: 1px 2px 3px rgba(0,0,0,0.1);
        }

        .caja span:first-child {
            width: 100%;
            height: 7px;
            top: 11px;
        }

        .caja span:last-child, .tapa span {
            width: 7px;
            height: 100%;
            left: 76px;
        }

        .tapa span {
            left: 77px;
        }

        .promo {
            font-size: 11px;
            color: white;
            font-family: Georgia, 'Times New Roman', Times, serif;
            text-align: center;
            position: relative;
            height: 0;
            top: 5px;
            transition: all ease-out 0.7s;
            white-space: nowrap;
            opacity: 0;
        }

        .promo p {
            font-size: 9px;
            margin: 0;
        }

        .promo h2 {
            font-size: 13px;
            margin: 0;
        }

        .regalo.open .tapa {
            top: -40px;
            transform: rotateZ(10deg);
            left: 8px;
        }

        .regalo.open .promo {
            top: -35px;
            opacity: 1;
        }

        /* Nombre exterior con efecto ne√≥n */
        .nombre-exterior {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Georgia', serif;
            font-size: 14px;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            white-space: nowrap;
            z-index: 5;
            pointer-events: none;
            text-shadow: 0 0 10px currentColor;
            animation: neonPulse 2s infinite alternate;
            opacity: 0.9;
        }

        @keyframes neonPulse {
            0% {
                opacity: 0.8;
                text-shadow: 0 0 10px currentColor;
            }
            100% {
                opacity: 1;
                text-shadow: 0 0 15px currentColor, 0 0 20px currentColor;
            }
        }

        /* Colores ne√≥n para cada nombre exterior */
        .regalo[data-name="andres"] .nombre-exterior {
            color: #ff6b6b; /* Rojo ne√≥n suave */
        }

        .regalo[data-name="uriel"] .nombre-exterior {
            color: #4dabf7; /* Azul ne√≥n suave */
        }

        .regalo[data-name="zaid"] .nombre-exterior {
            color: #51cf66; /* Verde ne√≥n suave */
        }

        .regalo[data-name="sofia"] .nombre-exterior {
            color: #cc5de8; /* Lila ne√≥n suave */
        }

        /* Regalos personalizados */
        .regalo[data-name="andres"] .caja,
        .regalo[data-name="andres"] .tapa {
            background-color: #f80000;
        }

        .regalo[data-name="uriel"] .caja,
        .regalo[data-name="uriel"] .tapa {
            background-color: #2196F3;
        }

        .regalo[data-name="zaid"] .caja,
        .regalo[data-name="zaid"] .tapa {
            background-color: #2ECC71;
        }

        .regalo[data-name="sofia"] .caja,
        .regalo[data-name="sofia"] .tapa {
            background-color: #9C27B0;
        }

        /* ============ REGALO "NO ABRIR" - AGREGADO NUEVO ============ */
        .forbidden-gift {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 100;
            transform: scale(0.6);
        }

        .forbidden-gift:hover {
            transform: scale(0.65);
        }

        .forbidden-gift .caja,
        .forbidden-gift .tapa {
            background-color: #222;
            background-image: 
                radial-gradient(#ff3333 10%, transparent 15.1%),
                radial-gradient(#ff3333 7%, transparent 15.1%);
            background-position: 0 0, 15px 15px;
            background-size: 10px 10px;
        }

        .forbidden-gift .caja {
            width: 70px;
            height: 45px;
            border-radius: 0px 0px 5px 5px;
        }

        .forbidden-gift .tapa {
            width: 70px;
            height: 12px;
            border-radius: 2px 2px 0px 0px;
        }

        .forbidden-gift .caja span:first-child {
            height: 5px;
            top: 8px;
            background: #ff3333;
        }

        .forbidden-gift .caja span:last-child,
        .forbidden-gift .tapa span {
            width: 5px;
            height: 100%;
            left: 60px;
            background: #ff3333;
        }

        .forbidden-gift .tapa span {
            left: 61px;
        }

        .forbidden-gift .nombre-exterior {
            color: #ff3333;
            font-size: 12px;
            top: -35px;
            text-shadow: 0 0 10px #ff3333, 0 0 20px #ff3333;
            animation: forbiddenGlow 1s infinite alternate;
        }

        @keyframes forbiddenGlow {
            0% {
                opacity: 0.5;
                text-shadow: 0 0 5px #ff3333;
            }
            100% {
                opacity: 1;
                text-shadow: 0 0 15px #ff3333, 0 0 25px #ff3333;
            }
        }

        .forbidden-gift .promo {
            font-size: 9px;
        }

        .forbidden-gift .promo h2 {
            font-size: 11px;
            color: #ff3333;
        }

        .forbidden-gift.open .tapa {
            top: -30px;
            transform: rotateZ(15deg);
            left: 5px;
        }

        .forbidden-gift.open .promo {
            top: -30px;
        }

        /* ============ VIDEO LOCAL ============ */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2001;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .video-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .video-container {
            width: 90%;
            max-width: 800px;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(255, 51, 51, 0.5);
            position: relative;
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
        }

        .close-video-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff3333;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            z-index: 10;
            transition: all 0.3s;
        }

        .close-video-btn:hover {
            background: #cc0000;
            transform: scale(1.1);
        }

        .video-message {
            color: white;
            text-align: center;
            padding: 20px;
            font-family: 'Georgia', serif;
            font-size: 1.5em;
            text-shadow: 0 0 10px #ff3333;
        }

        .video-message h3 {
            color: #ff3333;
            margin-bottom: 10px;
            font-size: 2em;
        }

        /* ============ FONDO CON IMAGEN ============ */
        .background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('fondo.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            opacity: 0.3;
        }

        /* ============ M√öSICA DE FONDO ============ */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
            font-family: 'Georgia', serif;
            box-shadow: 0 0 20px rgba(255, 183, 0, 0.3);
        }

        .music-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .music-btn {
            background: #ffb700;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            transition: all 0.3s;
        }

        .music-btn:hover {
            background: #ffce54;
            transform: scale(1.1);
        }

        .music-info {
            font-size: 14px;
            max-width: 150px;
        }

        /* ============ IM√ÅGENES EN LA CARTA DE SOF√çA ============ */
        .card-images {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 20px 0;
            gap: 15px;
        }

        .card-images img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            border: 3px solid #9C27B0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card-images img:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(156, 39, 176, 0.5);
        }

        /* Estilos espec√≠ficos para im√°genes individuales */
        .sofia-image-1 {
            transform: rotate(-5deg);
        }

        .sofia-image-2 {
            transform: rotate(3deg);
        }

        .sofia-image-3 {
            transform: rotate(-2deg);
        }

        /* Mensaje de advertencia */
        .warning-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 30px;
            border-radius: 15px;
            border: 3px solid #ff3333;
            z-index: 1001;
            text-align: center;
            max-width: 80%;
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.5);
            display: none;
            animation: shake 0.5s ease-in-out;
        }

        .warning-message h3 {
            color: #ff3333;
            margin-bottom: 15px;
            font-size: 1.8em;
            text-shadow: 0 0 10px rgba(255, 51, 51, 0.7);
        }

        .warning-message p {
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.4;
        }

        .warning-message button {
            padding: 12px 30px;
            background: #ff3333;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(255, 51, 51, 0.5);
        }

        .warning-message button:hover {
            background: #cc0000;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 51, 51, 0.7);
        }

        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%); }
            25% { transform: translate(-52%, -50%); }
            75% { transform: translate(-48%, -50%); }
        }

        /* ============ ESTILOS PARA LA TARJETA NAVIDE√ëA ============ */
        .card-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .card-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .navidad-card {
            width: 90%;
            max-width: 500px;
            height: 80vh;
            max-height: 700px;
            margin: 0 auto;
            position: relative;
            perspective: 1400px;
            transition: all 1s;
            transform: scale(0.8);
        }

        .navidad-card.open-n {
            transform: scale(1);
        }

        .navidad-left-card {
            position: relative;
            width: 100%;
            height: 100%;
            cursor: pointer;
            box-shadow: 5px 0px 15px rgba(0, 0, 0, 0.3);
            z-index: 1;
            transition: transform 1s;
            transform-style: preserve-3d;
            transform-origin: 0 0;
            border-radius: 10px;
        }

        .navidad-card-front,
        .navidad-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            backface-visibility: hidden;
            border-radius: 10px;
            overflow: hidden;
        }

        .navidad-card-front {
            background: linear-gradient(135deg, #1a472a 0%, #2d5016 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .navidad-card-front::before {
            content: 'üéÑ';
            font-size: 80px;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .navidad-card-front h3 {
            color: white;
            font-family: 'Georgia', serif;
            font-size: 24px;
            text-align: center;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .navidad-card-back {
            background: linear-gradient(135deg, #c62828 0%, #b71c1c 100%);
            transform: rotateX(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .navidad-card-back::before {
            content: 'üéÅ';
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .navidad-card-back h3 {
            color: white;
            font-family: 'Georgia', serif;
            font-size: 24px;
            text-align: center;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .navidad-right-card {
            width: 100%;
            height: 100%;
            background: #fff;
            text-align: center;
            padding: 30px;
            box-sizing: border-box;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            color: #444;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            font-family: 'Georgia', serif;
            overflow-y: auto;
        }

        .navidad-right-card h2 {
            color: #c62828;
            font-family: 'Georgia', serif;
            font-size: 32px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .navidad-right-card p {
            font-size: 18px;
            margin: 12px 0;
            color: #333;
            line-height: 1.6;
            text-align: left;
            width: 100%;
        }

        .card-recipient {
            font-weight: bold;
            color: #1a472a !important;
            font-size: 24px !important;
            margin-top: 10px !important;
            text-align: center !important;
            margin-bottom: 20px !important;
        }

        .card-message {
            font-size: 18px;
            line-height: 1.6;
            text-align: left;
            padding: 10px 20px;
            background: #f9f9f9;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #c62828;
        }

        .card-sender {
            margin-top: 20px !important;
            font-style: italic;
            color: #666;
            text-align: center !important;
            font-size: 20px !important;
        }

        .message-icon {
            font-size: 24px;
            margin-right: 10px;
            vertical-align: middle;
        }

        .close-card-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #c62828;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            z-index: 10;
            transition: all 0.3s;
        }

        .close-card-btn:hover {
            background: #b71c1c;
            transform: scale(1.1);
        }

        /* ============ RESPONSIVE ============ */
        @media (max-width: 768px) {
            .gifts-container {
                max-width: 400px;
                gap: 12px;
            }
            .welcome-content h1 {
                font-size: 2.5em;
            }
            .welcome-content input {
                width: 280px;
            }
            .caja {
                width: 80px;
                height: 50px;
            }
            .tapa {
                width: 80px;
                height: 13px;
            }
            .caja span:last-child, .tapa span {
                left: 68px;
            }
            .tapa span {
                left: 69px;
            }
            .text-mc {
                font-size: 3.5vh;
                top: 40%;
            }
            .nombre-exterior {
                font-size: 12px;
                top: -35px;
            }
            .navidad-card {
                width: 95%;
                height: 85vh;
            }
            .navidad-right-card h2 {
                font-size: 26px;
            }
            .navidad-right-card p {
                font-size: 16px;
            }
            .card-message {
                font-size: 16px;
                padding: 8px 15px;
            }
            .forbidden-gift {
                transform: scale(0.5);
                bottom: 15px;
                left: 15px;
            }
            .video-container video {
                height: 300px;
            }
            .music-player {
                bottom: 15px;
                right: 15px;
                padding: 8px 15px;
            }
            .music-info {
                font-size: 12px;
                max-width: 120px;
            }
            /* Im√°genes en la carta - Responsive */
            .card-images img {
                width: 100px;
                height: 100px;
            }
            .card-images {
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .gifts-container {
                max-width: 320px;
                gap: 10px;
            }
            .caja {
                width: 65px;
                height: 42px;
            }
            .tapa {
                width: 65px;
                height: 11px;
            }
            .caja span:first-child {
                height: 6px;
                top: 9px;
            }
            .caja span:last-child, .tapa span {
                left: 56px;
                width: 6px;
            }
            .tapa span {
                left: 57px;
            }
            .promo {
                font-size: 9px;
            }
            .promo h2 {
                font-size: 10px;
            }
            .text-mc {
                font-size: 3vh;
                top: 40%;
            }
            .nombre-exterior {
                font-size: 10px;
                top: -30px;
            }
            .warning-message {
                padding: 20px;
                max-width: 90%;
            }
            .warning-message h3 {
                font-size: 1.5em;
            }
            .warning-message p {
                font-size: 1.1em;
            }
            .navidad-card {
                width: 95%;
                height: 85vh;
            }
            .navidad-right-card h2 {
                font-size: 22px;
            }
            .navidad-right-card p {
                font-size: 14px;
            }
            .card-message {
                font-size: 14px;
                padding: 6px 12px;
            }
            .card-sender {
                font-size: 16px !important;
            }
            .forbidden-gift {
                transform: scale(0.45);
                bottom: 10px;
                left: 10px;
            }
            .video-container video {
                height: 200px;
            }
            .video-message {
                font-size: 1.2em;
                padding: 10px;
            }
            .video-message h3 {
                font-size: 1.5em;
            }
            .music-player {
                bottom: 10px;
                right: 10px;
                padding: 6px 12px;
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            .music-info {
                font-size: 10px;
                text-align: center;
                max-width: 100px;
            }
            /* Im√°genes en la carta - Responsive m√≥vil */
            .card-images {
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            .card-images img {
                width: 120px;
                height: 120px;
            }
            .sofia-image-1,
            .sofia-image-2,
            .sofia-image-3 {
                transform: rotate(0deg);
            }
        }
    </style>
    
    <!-- Google Font para la tarjeta -->
    <link href="https://fonts.googleapis.com/css2?family=Handlee&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Imagen de fondo -->
    <div class="background-image"></div>

    <!-- Animaci√≥n de nieve -->
    <div class="snow-container" id="snow-container"></div>

    <!-- Pantalla de bienvenida -->
    <div id="welcome-screen">
        <div class="welcome-content">
            <h1>üéÑ Feliz Navidad üéÑ</h1>
            <p class="welcome-subtitle">‚ú® Un regalo especial te espera ‚ú®</p>
            <input type="text" id="nameInput" placeholder="Ingresa tu nombre" />
            <br>
            <button onclick="startExperience()">  Entrar  </button>
        </div>
    </div>

    <!-- Mensaje de advertencia -->
    <div class="warning-message" id="warningMessage">
        <h3>‚õî ¬°ALTO AH√ç! ‚õî</h3>
        <p>Eyy que haces tratando de abrir un regalo ajeno??üò†üò†</p>
        <button onclick="closeWarning()">¬°Lo siento! üòÖ</button>
    </div>

    <!-- Video Rick Roll (oculto inicialmente) - FRASE MODIFICADA -->
    <div class="video-overlay" id="videoOverlay">
        <div class="video-container">
            <button class="close-video-btn" onclick="closeVideo()">√ó</button>
            <div class="video-message">
                <h3>üéÑ ¬°TE DIJE QUE NO LO ABRIERAS! üéÑ</h3>
                <p>troleado por abrir algo que estaba prohibido xddddd</p> <!-- FRASE CAMBIADA -->
            </div>
            <video id="rickRollVideo" controls>
                <source src="rickroll.mp4" type="video/mp4">
                Tu navegador no soporta el video.
            </video>
            <div class="video-message">
                <p>¬°Feliz Navidad de todos modos! üéÖ</p>
            </div>
        </div>
    </div>

    <!-- Tarjeta navide√±a (oculta inicialmente) -->
    <div class="card-overlay" id="cardOverlay">
        <button class="close-card-btn" onclick="closeCard()">√ó</button>
        <div class="navidad-card" id="navidadCard">
            <div class="navidad-left-card">
                <div class="navidad-card-front">
                    <h3>¬°Feliz Navidad!</h3>
                </div>
                <div class="navidad-card-back">
                    <h3>¬°Que la pases<br>muy bien!</h3>
                </div>
            </div>
            <div class="navidad-right-card">
                <h2 id="cardTitle">Feliz Navidad</h2>
                <div id="cardMessage" class="card-message"></div>
                <div id="cardImages" class="card-images"></div> <!-- CONTENEDOR DE IM√ÅGENES -->
                <p id="cardRecipient" class="card-recipient"></p>
                <p id="cardSender" class="card-sender">Te desea tu amig√ºito</p>
            </div>
        </div>
    </div>

    <!-- Contenido principal -->
    <div id="main-content">
        <!-- Estrella (5 elementos) -->
        <ul>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        
        <!-- Luces del √°rbol (128 elementos) - √ÅRBOL ORIGINAL -->
        <ul>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li><li></li><li></li>
            <li></li><li></li><li></li>
        </ul>

        <div>
            <h1 class="text-mc" id="nameDisplay">
                S<br>So<br>Sof<br>Sofi<br>Sofia<br><br>FELIZ NAVIDAD
            </h1>
        </div>

        <!-- REGALO "NO ABRIR" - AGREGADO NUEVO -->
        <div class="forbidden-gift" onclick="openForbiddenGift()">
            <div class="nombre-exterior">NO ABRIR</div>
            <div class="tapa"><span></span></div>
            <div class="promo">
                <p>‚ö†Ô∏è ADVERTENCIA ‚ö†Ô∏è</p>
                <h2>NO ABRIR</h2>
            </div>
            <div class="caja">
                <span></span>
                <span></span>
            </div>
        </div>

        <!-- Reproductor de m√∫sica -->
        <div class="music-player" id="musicPlayer">
            <div class="music-info">
                üéµ M√∫sica Navide√±a
            </div>
            <div class="music-controls">
                <button class="music-btn" onclick="toggleMusic()" id="playBtn">‚ñ∂Ô∏è</button>
                <button class="music-btn" onclick="stopMusic()">‚èπÔ∏è</button>
            </div>
        </div>

        <div class="gifts-container">
            <!-- Regalo de Andres (rojo) -->
            <div class="regalo" data-name="andres" onclick="openGift('andres')">
                <div class="nombre-exterior">ANDRES</div>
                <div class="tapa"><span></span></div>
                <div class="promo">
                    <p>Para:</p>
                    <h2>ANDRES üéÅ</h2>
                </div>
                <div class="caja">
                    <span></span>
                    <span></span>
                </div>
            </div>

            <!-- Regalo de Uriel (azul) -->
            <div class="regalo" data-name="uriel" onclick="openGift('uriel')">
                <div class="nombre-exterior">URIEL</div>
                <div class="tapa"><span></span></div>
                <div class="promo">
                    <p>Para:</p>
                    <h2>URIEL üéÑ</h2>
                </div>
                <div class="caja">
                    <span></span>
                    <span></span>
                </div>
            </div>

            <!-- Regalo de Zaid (verde) -->
            <div class="regalo" data-name="zaid" onclick="openGift('zaid')">
                <div class="nombre-exterior">ZAID</div>
                <div class="tapa"><span></span></div>
                <div class="promo">
                    <p>Para:</p>
                    <h2>ZAID ‚≠ê</h2>
                </div>
                <div class="caja">
                    <span></span>
                    <span></span>
                </div>
            </div>

            <!-- Regalo de Sofia (morado) -->
            <div class="regalo" data-name="sofia" onclick="openGift('sofia')">
                <div class="nombre-exterior">SOFIA</div>
                <div class="tapa"><span></span></div>
                <div class="promo">
                    <p>Para:</p>
                    <h2>SOFIA üéÖ</h2>
                </div>
                <div class="caja">
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio para la m√∫sica de fondo -->
    <audio id="backgroundMusic" loop>
        <source src="navidad.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <script>
        // Variables globales
        let currentUser = '';
        let backgroundMusic = document.getElementById('backgroundMusic');
        let isPlaying = false;
        let playBtn = document.getElementById('playBtn');

        // Crear copos de nieve
        function createSnow() {
            const snowContainer = document.getElementById('snow-container');
            const snowCount = 50;
            
            for (let i = 0; i < snowCount; i++) {
                const snow = document.createElement('div');
                snow.classList.add('snow');
                
                const size = Math.random() * 5 + 2;
                snow.style.width = `${size}px`;
                snow.style.height = `${size}px`;
                
                snow.style.left = `${Math.random() * 100}%`;
                
                const duration = Math.random() * 5 + 5;
                snow.style.animationDuration = `${duration}s`;
                
                snow.style.animationDelay = `${Math.random() * 5}s`;
                
                snowContainer.appendChild(snow);
            }
        }

        // Control de m√∫sica
        function toggleMusic() {
            if (isPlaying) {
                backgroundMusic.pause();
                playBtn.innerHTML = '‚ñ∂Ô∏è';
            } else {
                backgroundMusic.play().catch(e => {
                    console.log("Error al reproducir m√∫sica:", e);
                    // Si hay error de autoplay, mostrar mensaje
                    alert("Haz clic en la p√°gina primero para permitir la reproducci√≥n de m√∫sica");
                });
                playBtn.innerHTML = '‚è∏Ô∏è';
            }
            isPlaying = !isPlaying;
        }

        function stopMusic() {
            backgroundMusic.pause();
            backgroundMusic.currentTime = 0;
            isPlaying = false;
            playBtn.innerHTML = '‚ñ∂Ô∏è';
        }

        function startExperience() {
            const name = document.getElementById('nameInput').value.trim().toLowerCase();
            
            if (name === '') {
                alert('Por favor ingresa tu nombre');
                return;
            }

            // Validar si es uno de los amigos
            const validNames = ['andres', 'uriel', 'zaid', 'sofia'];
            
            if (!validNames.includes(name)) {
                alert('Lo siento, no tienes un regalo asignado. Pero ¬°Feliz Navidad de todos modos! üéÑ');
                return;
            }

            // Guardar el usuario actual
            currentUser = name;

            // Ocultar pantalla de bienvenida
            document.getElementById('welcome-screen').classList.add('hidden');
            
            // Mostrar contenido principal
            setTimeout(() => {
                document.getElementById('main-content').classList.add('visible');
            }, 500);

            // Actualizar el texto con el nombre ingresado
            updateNameDisplay(name);
            
            // Iniciar m√∫sica de fondo autom√°ticamente
            setTimeout(() => {
                backgroundMusic.volume = 0.5;
                toggleMusic();
            }, 1000);
            
            // Mostrar mensaje de bienvenida personalizado
            setTimeout(() => {
                alert(`¬°Feliz Navidad ${name.charAt(0).toUpperCase() + name.slice(1)}! üéÑ\n\nTu regalo te espera abajo. Solo puedes abrir el tuyo.`);
            }, 1500);
        }

        function updateNameDisplay(name) {
            let display = '';
            const capitalized = name.charAt(0).toUpperCase() + name.slice(1);
            
            // Acumular letras del nombre (como en la imagen de Sofia)
            for (let i = 1; i <= capitalized.length; i++) {
                display += capitalized.substring(0, i) + '<br>';
            }
            
            // Agregar "Feliz Navidad" despu√©s del nombre
            display += '<br>FELIZ NAVIDAD';
            
            document.getElementById('nameDisplay').innerHTML = display;
        }

        function openGift(giftOwner) {
            console.log('Intento de abrir regalo de:', giftOwner, 'Usuario actual:', currentUser);
            
            // Verificar si el usuario est√° tratando de abrir su propio regalo
            if (giftOwner === currentUser) {
                // Abrir el regalo (si no est√° abierto)
                const gift = document.querySelector(`.regalo[data-name="${giftOwner}"]`);
                
                // Si ya est√° abierto, cerrarlo primero
                if (gift.classList.contains('open')) {
                    gift.classList.remove('open');
                    setTimeout(() => {
                        gift.classList.add('open');
                        // Mostrar la tarjeta navide√±a personalizada
                        setTimeout(() => {
                            showChristmasCard(giftOwner);
                        }, 800);
                    }, 300);
                } else {
                    gift.classList.add('open');
                    // Mostrar la tarjeta navide√±a personalizada
                    setTimeout(() => {
                        showChristmasCard(giftOwner);
                    }, 1000);
                }
            } else {
                // Mostrar mensaje de advertencia
                console.log('Mostrando advertencia...');
                showWarning();
            }
        }

        // ============ FUNCI√ìN PARA EL REGALO "NO ABRIR" ============
        function openForbiddenGift() {
            const forbiddenGift = document.querySelector('.forbidden-gift');
            
            // Animaci√≥n de abrir el regalo
            if (forbiddenGift.classList.contains('open')) {
                forbiddenGift.classList.remove('open');
                setTimeout(() => {
                    forbiddenGift.classList.add('open');
                    showRickRoll();
                }, 300);
            } else {
                forbiddenGift.classList.add('open');
                // Mostrar el video despu√©s de un breve momento
                setTimeout(() => {
                    showRickRoll();
                }, 800);
            }
        }

        // ============ FUNCI√ìN PARA MOSTRAR EL RICK ROLL ============
        function showRickRoll() {
            const videoOverlay = document.getElementById('videoOverlay');
            const video = document.getElementById('rickRollVideo');
            
            // Mostrar el overlay del video
            videoOverlay.classList.add('active');
            
            // Pausar m√∫sica de fondo
            if (isPlaying) {
                backgroundMusic.pause();
            }
            
            // Reproducir sonido de advertencia
            playWarningSound();
            
            // Reproducir video autom√°ticamente despu√©s de un breve momento
            setTimeout(() => {
                video.play().catch(e => {
                    console.log("Error al reproducir video:", e);
                });
            }, 500);
            
            // Mostrar mensaje divertido
            console.log("üéÑ ¬°Te dije que no lo abrieras! üéÑ");
        }

        function closeVideo() {
            const videoOverlay = document.getElementById('videoOverlay');
            const video = document.getElementById('rickRollVideo');
            
            // Pausar el video
            video.pause();
            video.currentTime = 0;
            
            // Ocultar el overlay
            videoOverlay.classList.remove('active');
            
            // Reanudar m√∫sica de fondo si estaba reproduci√©ndose
            if (isPlaying) {
                backgroundMusic.play();
            }
            
            // Cerrar el regalo "no abrir"
            const forbiddenGift = document.querySelector('.forbidden-gift');
            forbiddenGift.classList.remove('open');
        }

        function showChristmasCard(giftOwner) {
            // Personalizar el mensaje seg√∫n la persona con los textos que proporcionaste
            const messages = {
                'andres': {
                    title: 'üòéüíò Para Andr√©s',
                    message: `<span class="message-icon">üéÑ</span> Feliz Navidad weee üéÑ<br><br>
                    <span class="message-icon">üéÅ</span> Que te la pases con madre con tu familia‚Ä¶ y con tu novia tambi√©n xd üòè<br><br>
                    <span class="message-icon">üòÇ</span> Gracias por el cotorreo, las risas y la vibra que siempre traes, neta haces que todo sea m√°s divertido.<br><br>
                    <span class="message-icon">ü§ù</span> Eres un gran amigo y se agradece tener a alguien as√≠ en el grupo.<br><br>
                    <span class="message-icon">üéÆ</span> Ojal√° el pr√≥ximo a√±o sigamos haciendo m√°s locuras, juegos, risas y an√©cdotas.<br><br>
                    <span class="message-icon">üî•</span> Abrazo bro, se te quiere üî•üéÅ`,
                    recipient: 'Para: Andr√©s üéÅ',
                    sender: 'Te desea tu amig√ºito',
                    images: [] // Sin im√°genes para Andr√©s
                },
                'uriel': {
                    title: 'üß† Para Uriel',
                    message: `<span class="message-icon">üéÑ</span> Feliz Navidad bro üéÑ<br><br>
                    <span class="message-icon">üè°</span> Que te la pases bien con tu familia y tengas unos d√≠as tranquilos.<br><br>
                    <span class="message-icon">üíØ</span> Aunque seas m√°s reservado, siempre est√°s ah√≠ y eso se valora un chorro.<br><br>
                    <span class="message-icon">üéÆ</span> Es un gusto jugar contigo y contar contigo como amigo, sin dramas, sin ruido.<br><br>
                    <span class="message-icon">üòÇ</span> Ojal√° el pr√≥ximo a√±o sigamos jugando, ri√©ndonos y armando m√°s buenas partidas.<br><br>
                    <span class="message-icon">ü§ù</span> Un abrazo, eres grande ü§ù‚ú®`,
                    recipient: 'Para: Uriel üéÑ',
                    sender: 'Te desea tu amig√ºito',
                    images: [] // Sin im√°genes para Uriel
                },
                'zaid': {
                    title: 'üéÆ Para Zaid',
                    message: `<span class="message-icon">üéÑ</span> Feliz Navidad bro üéÑ<br><br>
                    <span class="message-icon">üè°</span> Neta espero que te la pases chido con tu familia y descanses bien.<br><br>
                    <span class="message-icon">üéÆ</span> Gracias por todas las partidas, las risas y por salvarnos cuando el juego ya estaba perdido üòéüíª<br><br>
                    <span class="message-icon">üíª</span> Eres un gran amigo y se nota que se te da ca√±√≥n esto de la computaci√≥n, no cualquiera.<br><br>
                    <span class="message-icon">üòÇ</span> Ojal√° el pr√≥ximo a√±o sigamos haciendo m√°s locuras en l√≠nea y fuera del juego.<br><br>
                    <span class="message-icon">üëä</span> Se te quiere, crack üëä‚ú®`,
                    recipient: 'Para: Zaid ‚≠ê',
                    sender: 'Te desea tu amig√ºito',
                    images: [] // Sin im√°genes para Zaid
                },
                'sofia': {
                    title: 'ü•ë Para Sof√≠a',
                    message: `<span class="message-icon">üéÑ</span> Feliz Navidad, Sof√≠a (aguacate ü•ë) üéÑ<br><br>
                    <span class="message-icon">üè°</span> Espero que te la pases bien con tu familia y que tengan una bonita Navidad.<br><br>
                    <span class="message-icon">üçï</span> Eyyy, le invitas algo de comer a Sailigood y ojal√° que te vaya mucho mejor en la vida xdddd, porque s√≠ te hace mucha falta y para que no te pasen tantas desgracias como que un perro te orine la mochila o que casi se te vaya el cami√≥n (PUTA EL CAMI√ìN üó£üó£üó£).<br><br>
                    <span class="message-icon">ü§ù</span> Aunque no llevamos tanto tiempo hablando, estuvo bien conocerte este a√±o.<br><br>
                    <span class="message-icon">üòÇ</span> Eres muy graciosa, bro, aunque siempre te pasen cosas bien random y casi siempre te toque sufrirlas üò≠<br><br>
                    <span class="message-icon">üí¨</span> Me cae bien hablar contigo y ojal√° el pr√≥ximo a√±o sigamos hablando y juntando m√°s an√©cdotas raras.<br><br>
                    <span class="message-icon">‚ù§Ô∏è</span> Que tengas bonita Navidad.<br>
                    Se te quiere, bro üéÅ`,
                    recipient: 'Para: Sof√≠a üéÖ',
                    sender: 'Te desea tu amig√ºito   pd: que tierna mi bro xddddd',
                    images: [
                        'sofia1.jpg',
                        'sofia2.jpg',
                        'sofia3.jpg'
                    ] // 3 im√°genes para Sof√≠a
                }
            };

            const cardData = messages[giftOwner];
            
            // Actualizar el contenido de la tarjeta
            document.getElementById('cardTitle').textContent = cardData.title;
            document.getElementById('cardMessage').innerHTML = cardData.message;
            document.getElementById('cardRecipient').textContent = cardData.recipient;
            document.getElementById('cardSender').textContent = cardData.sender;
            
            // Actualizar im√°genes si las hay
            const cardImagesContainer = document.getElementById('cardImages');
            cardImagesContainer.innerHTML = ''; // Limpiar im√°genes anteriores
            
            if (cardData.images && cardData.images.length > 0) {
                // Crear contenedor de im√°genes
                let imagesHTML = '<div class="card-images">';
                
                cardData.images.forEach((imgSrc, index) => {
                    imagesHTML += `<img src="${imgSrc}" alt="Foto para ${giftOwner}" class="sofia-image-${index + 1}">`;
                });
                
                imagesHTML += '</div>';
                cardImagesContainer.innerHTML = imagesHTML;
            }
            
            // Mostrar la tarjeta
            const cardOverlay = document.getElementById('cardOverlay');
            const navidadCard = document.getElementById('navidadCard');
            
            cardOverlay.classList.add('active');
            
            // Animar la tarjeta despu√©s de mostrarla
            setTimeout(() => {
                navidadCard.classList.add('open-n');
                
                // Hacer que la tarjeta se abra autom√°ticamente despu√©s de un breve momento
                setTimeout(() => {
                    navidadCard.querySelector('.navidad-left-card').style.transform = 'rotateX(180deg)';
                }, 800);
            }, 100);
        }

        function closeCard() {
            const cardOverlay = document.getElementById('cardOverlay');
            const navidadCard = document.getElementById('navidadCard');
            
            // Cerrar la tarjeta
            navidadCard.querySelector('.navidad-left-card').style.transform = 'rotateX(0deg)';
            navidadCard.classList.remove('open-n');
            
            // Ocultar el overlay despu√©s de la animaci√≥n
            setTimeout(() => {
                cardOverlay.classList.remove('active');
            }, 500);
        }

        function showWarning() {
            const warning = document.getElementById('warningMessage');
            console.log('Elemento de advertencia:', warning);
            
            // Asegurarse de que el mensaje est√© visible
            warning.style.display = 'block';
            warning.style.zIndex = '1001';
            
            // Agregar efecto de sonido
            playWarningSound();
            
            // Cerrar autom√°ticamente despu√©s de 5 segundos
            setTimeout(() => {
                if (warning.style.display === 'block') {
                    closeWarning();
                }
            }, 5000);
        }

        function closeWarning() {
            const warning = document.getElementById('warningMessage');
            warning.style.display = 'none';
        }

        function playWarningSound() {
            // Crear un sonido de advertencia simple
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 300;
                oscillator.type = 'sawtooth';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('Audio no disponible');
            }
        }

        // Permitir presionar Enter en el input
        document.getElementById('nameInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startExperience();
            }
        });

        // Cerrar mensaje de advertencia al hacer clic en el bot√≥n o fuera
        document.getElementById('warningMessage').addEventListener('click', function(e) {
            if (e.target.tagName === 'BUTTON') {
                closeWarning();
            }
        });

        document.addEventListener('click', function(e) {
            const warning = document.getElementById('warningMessage');
            if (warning.style.display === 'block' && !warning.contains(e.target)) {
                closeWarning();
            }
        });

        // Permitir cerrar la tarjeta haciendo clic fuera de ella
        document.getElementById('cardOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCard();
            }
        });

        // Permitir cerrar el video haciendo clic fuera de √©l
        document.getElementById('videoOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideo();
            }
        });

        // Inicializar la nieve cuando se carga la p√°gina
        window.addEventListener('DOMContentLoaded', createSnow);
    </script>
</body>
</html>



